<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>react - </title>

	<link rel="shortcut icon" href="/styles/images/favicon.jpg">
	<link rel="icon" href="/styles/images/favicon.jpg">

	<link rel="stylesheet" href="/styles/css/index.css">
	<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="/styles/css/syntax.css">
	<link rel="canonical" href="/2017/07/23/react/">
	<link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">
	
	<meta name="keywords" content="react, , ">
	<meta name="description" content="">

	<script src="/styles/js/jquery.min.js"></script>
  	<style type="text/css">
	  	.docs-content{
	  		margin-bottom: 10px;
	  	}
  	</style>
</head>

  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/styles/images/logo.jpg">
      </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">    
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/categories/">大类分解</a>
        </li>
        <li>
          <a href="/tag">小类内聚</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <!--
        <li>
          <a href="/donate/"><strong>打赏</strong></a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">关于<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a rel="nofollow" target="_blank" href="https://github.com/luoyan35714/">Github</a></li>
            <li><a rel="nofollow" target="_blank" href="http://www.hifreud.com/Resume.io/">关于作者</a></li>
            <li><a rel="nofollow" href="/books">我的书单</a></li>
            <li><a rel="nofollow" href="http://www.hifreud.com/domains/">域名管理</a></li>
            <li><a rel="nofollow" href="/reference">推荐博客</a></li>
          </ul>
        </li>
        -->
      </ul>
    </nav>
  </div>
</header>
    <div class="docs-header" id="content">
  <div class="container">
		  <h1></h1>
	    <h1></h1>
	    <p></p>
  </div>
</div>
    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>目录111</h1>
  <ul class="nav sidenav">
<!--
    
      
      
      
      

      
        <li><a href="#year_2017">2017</a>
          <ul class="nav">
            <li><a href="#month_2017_July">July</a></li>
      

      
            </ul>
          </li>
      
    
-->
  </ul>
</div>

 
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title">react</h1>
              <!--
                <p class="post-meta">Jul 23, 2017</p>
              -->
              <div class="meta">Posted on <span class="postdate">Jul 23, 2017</span> By <a target="_blank" href="http://localhost:4000">zhoulj</a></div>
              <br />
            </header>
            <article class="post-content">
              <h2 id="what-is-react">what is react</h2>
<ul>
  <li>构建用户界面的javascript库(非框架), 轻量级</li>
  <li>构建UI, mvc中v</li>
  <li>虚拟dom, 提升页面渲染速度, 变化部分局部更新</li>
  <li>jsx模板语言, 具有javascript全部功能, 是js扩展(非引入新概念指令、控制器)</li>
  <li>组件化, 增强代码复用、组件独立测试</li>
  <li>单向数据流, 比数据绑定更简单(非双向绑定:数据来源混乱)</li>
</ul>

<p>相关:</p>
<ul>
  <li>http://www.runoob.com/react/react-tutorial.html</li>
  <li>https://facebook.github.io/react/docs/installation.html</li>
  <li>http://www.ruanyifeng.com/blog/2015/03/react.html</li>
</ul>

<h2 id="reactdomrender">ReactDOM.render()</h2>
<p>模板转化html语言, 插入指定的dom</p>
<pre><code>ReactDOM.render(
    &lt;h1&gt;Hello, world!&lt;/h1&gt;,
    document.getElementById('example')
);
</code></pre>

<h2 id="react-jsx">React JSX</h2>
<ul>
  <li>Babel编译jsx-&gt;React.createElement(),不使用jsx也可以全通过js React,但是代码不简洁, 意思上是等价</li>
</ul>

<pre><code>react元素创建,两种方式等价--&gt;元素区别组件
const getHelloWord = &lt;h1&gt;Hello, world!&lt;/h1&gt;

const element = React.createElement(
  'h1',
  'Hello, world!'
);
</code></pre>
<ul>
  <li>遇到 HTML 标签（以 &lt; 开头），就用 HTML 规则解析；遇到代码块（以 { 开头），就用 JavaScript 规则解析</li>
  <li>渲染之前,转义jsx值, 避免xss攻击</li>
  <li>javaScript表达式: jsx中使用js表达式, 包裹{}
    <pre><code>function formatName(user) {
return user.firstName + ' ' + user.lastName;
}
function getGreeting(user) {
return &lt;h1&gt;Hello, {formatName(user)}&lt;/h1&gt;;--&gt;{}
}
</code></pre>
  </li>
  <li>jsx[用html元素]行内不能使用if、if else 语句
    <pre><code> if: &amp;代替
 const getGreeting(isOpen) = &lt;div&gt;{isOpen &amp;&amp; true}&lt;/div&gt;
</code></pre>
    <pre><code> if else:--&gt;三元运算代替
 const getGreeting(isOpen) = &lt;div&gt;{isOpen ? true : false}&lt;/div&gt;
</code></pre>
  </li>
  <li>内联样式
    <pre><code>const myStyle = {
  fontSize: 100,---&gt;元素数字后自动添加px, 驼峰转化
  color: '#FF0000'
};
const getGreeting() { return &lt;div style={myStyle}&gt;&lt;/div&gt;}
</code></pre>
  </li>
  <li>数组元素-&gt;数组所有成员添加模板中
    <pre><code>const arr = [&lt;h1&gt;arr1&lt;/h1&gt;, &lt;h2&gt;arr2&lt;/h2&gt;]
const getGreeting() { return &lt;div&gt;{arr}&lt;/div&gt;}
</code></pre>
  </li>
</ul>

<h2 id="react-组件">React 组件</h2>
<ul>
  <li>react元素 vs 组件命名:
    <ul>
      <li>元素以小写字母开头, 组件以大写字母开头</li>
      <li>元素引用直接 元素名(所以无法传递props), 组件&lt;element props</li>
    </ul>
  </li>
  <li>元素创建的3中方式
    <ul>
      <li>函数方式</li>
      <li>es6 class</li>
      <li>React.createClass
        <pre><code>function HelloWord(props) {--&gt;props传递
  &lt;div&gt;{props.name}&lt;/div&gt;
}
</code></pre>
        <pre><code>class HelloWolrd extends React.Component {
  render(){
      return &lt;div&gt;{this.props.name}&lt;/div&gt;
  }
}
</code></pre>
        <pre><code>var HelloWolrd = React.createClass({
render: function() {
return &lt;h1&gt;Hello {this.props.name}&lt;/h1&gt;;
}
});
</code></pre>
        <p>调用:
```</p>
      </li>
    </ul>
    <HelloWolrd name="test" />

    <p>```</p>
  </li>
</ul>

<h2 id="react-props">React props</h2>
<ul>
  <li>this.props.children: 表示组件的所有子节点
    <ul>
      <li>没有子节点undefined</li>
      <li>有一个子节点，数据类型是 object</li>
      <li>有多个子节点，数据类型就是 array</li>
    </ul>
  </li>
</ul>

<pre><code>React.Children.map(this.props.children, function (child) {
   return &lt;li&gt;{child}&lt;/li&gt;;--&gt;React.Children获取所有子节点, React.Children.map遍历子节点
})
</code></pre>

<h2 id="react-state">React state</h2>
<ul>
  <li>就是将组件看成是一个状态机，一开始有一个初始状态，然后用户互动，导致状态变化，从而触发重新渲染 UI</li>
  <li>state vs props
    <ul>
      <li>props不再改变的特性，而this.state 是会随着用户互动而产生变化的特性</li>
      <li>props父组件传递, state组件内部状态</li>
    </ul>
  </li>
  <li>this.state属性读取, this.setState({})变更state
    <pre><code>handleClick() {
    this.setState({'isOpen': !this.state.isOpen})
}
class Hello extends react.Component{
    render(){
        const isOpen = this.state.isOpen;
        return &lt;a onClick=this.handleClick()&gt;{isOpen ? true: false}&lt;/&gt;
    }
}
</code></pre>
  </li>
</ul>

<h2 id="列表遍历和列表key类似js-map">列表遍历、和列表key(类似js map)</h2>

<pre><code>List元素:
 const listItems = numbers.map((number, index) =&gt;
    &lt;li&gt;{number}&lt;/li&gt;
 );
</code></pre>
<pre><code>List组件:html标签外
function NumberList(props) {
  const numbers = props.numbers;
  const listItems = numbers.map((number, index) =&gt;
    &lt;li key={唯一的标记, 非遍历中的index索引}&gt;{number}&lt;/li&gt;
  );
  return (
    &lt;ul&gt;{listItems}&lt;/ul&gt;
  );
}
</code></pre>
<pre><code>List组件:html内标签外, {}包裹, 两种方式等价
function NumberList(props) {
  const numbers = props.numbers;
  return (
     &lt;ul&gt;
       {numbers.map((number) =&gt;
          &lt;li&gt;{number}&lt;/li&gt;
        )}
     &lt;/ul&gt;
  );
}
</code></pre>
<ul>
  <li>遍历添加key: 唯一标记这条记录,虚拟dom比较索引,加载查找速度
    <ul>
      <li>不要使用map-&gt;index作为key</li>
      <li>不用组件中, 定义相关的key, 无影响</li>
      <li>NumberList-&gt;ListItem-&gt;li多层组件, key添加到ListItem非遍历li上</li>
      <li>key不存在props传递中, 如果需要传递唯一标识,可以id替换</li>
    </ul>
  </li>
</ul>

<h2 id="forms">Forms</h2>
<p>react form elements例如<input />、<textarea>、<select>跟html中区别</select></textarea></p>
<ul>
  <li>html: 用户输入界面, 界面值变更。</li>
  <li>react: 需要onChange事件的回调函数,通过 event.target.value 读取用户输入的值,设置setState() 界面值变更
    <pre><code> handleChange: function(event) {
  this.setState({value: event.target.value});
 },
render: function () {
  var value = this.state.value;
  return (
    &lt;div&gt;
      &lt;input type="text" value={value} onChange={this.handleChange} /&gt;
      &lt;p&gt;{value}&lt;/p&gt;
    &lt;/div&gt;
  );
}
</code></pre>
  </li>
</ul>

<h2 id="组件组合和继承">组件组合和继承</h2>
<p>建议组合增强复用性, 非继承</p>
<h4 id="继承三种方式">继承三种方式</h4>
<ul>
  <li>对子节点类型不明确–&gt;只有一个子组件props.children
```
function FancyBorder(props) {
return (
    <div>
    {props.children}
  </div>
    <p>);
}
调用:</p>
  </li>
</ul>
<FancyBorder>
  <div></div>---&gt;这个位置除了普通元素, 也可以是组件
<FancyBorder>  
```
- 多个子组件类型不明确--&gt;两个props
```
function FancyBorder(props) {
  return (
    <div>
      {props.left}
    </div>
    <div>
      {props.right}
    </div>
  );
}
调用:
<FancyBorder>
  left={<a />}
  right={<b />}---&gt;这个位置除了普通元素, 也可以是组件
<FancyBorder> 
```
- A组件是B组件一个特例
```
function Dialog(props) {
  return (
    <FancyBorder>
      <h1>
        {props.title}
      </h1>
      <p>
        {props.message}
      </p>
    </FancyBorder>
  );
}

function WelcomeDialog() {
  return (
    <Dialog title="Welcome" message="test" />
  );
}
```
</FancyBorder></FancyBorder></FancyBorder></FancyBorder>

            </article>
        </div>
      </div>
      <div class="panel docs-content">
        <article class="post-content">
          <div class="wrapper">
             
          </div>
        </article>
      </div>
    </div>
  </div>
</div>

  </body>
</html>
